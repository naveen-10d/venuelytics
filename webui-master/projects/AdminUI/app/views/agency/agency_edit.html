<h3>Add or Edit {{ agencyType | translate}}
   <small>Add a new {{ agencyType | translate}} or Edit an existing {{ agencyType | translate}}.</small>
</h3>
<!-- START row-->
<div class="row">
   <div class="col-md-6 col-sm-12">
      
      <!-- START panel-->
      <div class="panel panel-default">
         <form id="agencyForm" name="agencyForm" validate-form="" novalidate>
            <div class="panel-heading">
               <div class="panel-title">{{ agencyType | translate}} Information</div>
            </div>
            <div class="panel-body">
            	<toaster-container toaster-options="{'position-class': 'toast-top-center', 'close-button':true}"></toaster-container>
            	
               <div class="form-group">
                  <label class="control-label">Name *</label>
                  <input type="text" name="name" required="required" class="form-control" ng-model="data.name"/>
               </div>
               <div class="form-group">
                  <label class="control-label">Manager Name</label>
                  <input type="text" name="managerName" class="form-control" ng-model="data.managerName" readOnly = "true"/>
               </div>
               <div class="row" ng-if="agencyType == 'STORE'">
                  <div class="form-group col-sm-4">
                     <label class="control-label nowrap">Account Number</label>
                     <input type="text"  name="accNumber" class="form-control" ng-model="data.accountNumber"/>
                  </div>
                  <div class="form-group col-sm-4">
                     <label class="control-label nowrap">Group Number</label>
                     <input type="text" name="groupNumber" class="form-control" ng-model="data.groupNumber"/>
                  </div>
                  <div class="form-group col-sm-4">
                     <label class="control-label nowrap">Region</label>
                     <input type="text" name="region" class="form-control" ng-model="data.region"/>
                  </div>
               </div>
               <div class="row">
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">Phone</label>
                     <input type="text" masked="" required="required" data-inputmask="'mask': '(999) 999-9999'" name="phone" class="form-control" ng-model="data.phone"/>
                  </div>
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">Mobile</label>
                     <input type="text" masked="" data-inputmask="'mask': '(999) 999-9999'" name="mobile" class="form-control" ng-model="data.mobile"/>
                  </div>
               </div>

               <div class="row">
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">Address</label>
                     <input type="text" name="address" required="required" class="form-control" ng-model="data.address"/>
                  </div>
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">City</label>
                     <input type="text" name="city" required="required" class="form-control" ng-model="data.city"/>
                  </div>
               </div>
               <div class="row">
                  <div class="form-group  col-sm-6">
                     <label class="control-label nowrap">Country</label>
                     <input type="text" name="country" required="required" class="form-control" ng-model="data.country"/>
                  </div>
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">ZIP</label>
                     <input type="text" name="zip" required="required" class="form-control" ng-model="data.zip"/>
                  </div>
               </div>
               
               <div class="row" ng-if="agencyType == 'STORE'">
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">Budget Type</label>
                      <select name="budgetType" required="required" class="form-control col-sm-12" ng-model="data.budgetType" ng-options="type.name as type.label for type in budgetTypes" ng-selected="onSectionChange(data.budgetType)">  
                     </select>
                  </div>
                  <div class="form-group col-sm-6" ng-hide="data.budgetType=='NM' ">
                     <label class="control-label nowrap">Budget</label>
                     <input type="text" name="zip"  class="form-control" ng-model="data.budget"/>
                  </div>
                  
               </div>
               <div class="row" ng-if="agencyType == 'STORE'">
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">Commission Type</label>
                      <select name="commissionType" required="required" class="form-control col-sm-12" ng-model="data.commissionType" >
                        <option value="F">Flat Fee</option>  
                        <option value="P">Percentage Fee</option>  
                     </select>
                  </div>
                  <div class="form-group col-sm-6">
                     <label class="control-label nowrap">Commission</label>
                     <div class="input-group m-b">
                        <span class="input-group-addon" ng-hide="data.commissionType == 'P'">$</span> 
                        <input type="text" name="commissionType"  data-parsley-type="number" class="form-control"  ng-model="data.commission"/>
                        <span class="input-group-addon" ng-hide="data.commissionType == 'F'">%</span> 
                     </div>
                  </div>
                  
               </div>
               <div class="form-group">
                   <div class="checkbox c-checkbox">
                     <label>
                        <input type="checkbox" name="enabled"  ng-model="data.enabled" ng-true-value="Y"  ng-false-value="N"/>
                        <span class="fa fa-check"></span>Activate
                        </label>
                  </div>
               </div>
               <div class="required">* Required fields</div>
            </div>
            <div class="panel-footer">
         		<button type="submit" class="btn btn-primary" ng-click="update(agencyForm.$valid,data)">Save</button>
            </div>
         <!-- END panel-->
         </form>
      </div>
   </div>
   <div class="col-md-6 col-sm-12">
      <div class="panel panel-default">
         <div class="panel-heading">
            <div class="panel-title">Authenticated Machines</div>
         </div>
         <div class="panel-body">
            <table id="mac_id_table"  class="table table-striped table-hover">
              <thead>
                  <tr>
                     <th class="">Name</th>
                     <th class="text-nowrap">Machine Info</th>
                      <th>Actions</th>
                  </tr>
               </thead>
               <tbody>
               
               </tbody>
            </table>  
         </div>
         <!-- <div class="panel-footer">
            <button type="submit" class="btn btn-primary" ng-click="update(userInfo.$valid,data)"></button>
         </div> -->
      </div>
   </div>
</div>
<!-- END row-->